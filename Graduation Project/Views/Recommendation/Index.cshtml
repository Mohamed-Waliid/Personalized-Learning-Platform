@model RecommendationViewModel

@{
    ViewData["Title"] = "Track Recommendation";
}

<body>
    <div id="wrapper">
        <div class="my-box wow">
            <div class="text-center">
                <h2 class="rec-h2">Get a Track recommendation based on your skills and interests</h2>
                <p>Enter your skills/interests down below and get a track recommendation based on your skills.
                </p>
            </div><!-- end title -->

            <form class="big-contact-form" asp-action="CreateRecommendation" method="post">
                <div class="form-group cent">
                    <span asp-validation-for="Skills" class="text-danger"></span>
                    <input asp-for="Skills" class="form-control rec-inp"
                        placeholder="e.g. Python, Analysis, Math..."></input>
                </div>

                <button type="submit" class="btn-primary rec-btn">Recommend</button>
            </form>

            @if (Model.Track != null)
            {
                <hr>
                <div class="user-card wow slideInUp rec-result">
                    <h3 class="rec-track">Based on your skills and interests, the <strong>@Model.Track.Name</strong>
                    track is the most suitable for you</h3>

                    <h4>We recommend starting with the following courses!</h4>
                    <div class="all-courses-row" id="coursesContainer">
                        @foreach (var course in Model.Courses)
                        {
                            <div class="all-courses-card">
                                <img src="@course.ImagePath" alt="@course.Title" />
                                <div class="all-courses-card-body">
                                    <h5 class="all-courses-card-title">@course.Title</h5>
                                    <p class="all-courses-card-text">@course.Description</p>
                                    <div class="all-courses-details">
                                        <p><strong>👤 Instructor:</strong> @course.InstructorName</p>
                                        <p><strong>📅 Duration:</strong> @course.Duration</p>
                                        <p><strong>🎓 Level:</strong> @course.DifficultyLevel</p>
                                        <p><strong>⭐ Enrolled:</strong> @course.EnrolledCount</p>
                                    </div>
                                    <a style="width: 100%;" asp-action="Details"
                                        asp-controller="Course" asp-route-CourseID="@course.ID"
                                        class="btn btn-primary">View Course</a>
                                </div>
                            </div>
                        }
                    </div>

                    <hr>

                    <div class="feedback-container">
                        @if (Model.FeedBack == null)
                        {
                            <h2>We would like to get your feedback!</h2>
                            <p>How satisfied are you with this recommendation?</p>
                            <p>Let us know so we can continue improving the experience!</p>

                            <form asp-action="CreateFeedBack" method="post">
                                <div class="emoji-container">
                                    <input type="hidden" asp-for="ID" value="@Model.ID" />
                                    <input type="hidden" asp-for="Track.ID" value="@Model.Track.ID" />
                                    <input type="hidden" asp-for="FirstName" value="@Model.FirstName" />
                                    <input type="hidden" asp-for="Skills" value="@Model.Skills" />
                                    <input type="hidden" asp-for="err" value="@Model.err" />

                                    <label>
                                        <input type="radio" asp-for="FeedBack" value="1" />
                                        <div class="emoji">😠</div>
                                    </label>
                                    <label>
                                        <input type="radio" asp-for="FeedBack" value="2" />
                                        <div class="emoji">😞</div>
                                    </label>
                                    <label>
                                        <input type="radio" asp-for="FeedBack" value="3" />
                                        <div class="emoji">😐</div>
                                    </label>
                                    <label>
                                        <input type="radio" asp-for="FeedBack" value="4" />
                                        <div class="emoji">😊</div>
                                    </label>
                                    <label>
                                        <input type="radio" asp-for="FeedBack" value="5" />
                                        <div class="emoji">😍</div>
                                    </label>
                                </div>

                                <button type="submit" class="btn btn-primary">Submit</button>
                            </form>
                        }
                        else
                        {
                            <h2>Thank You for your feedback! 🙂</h2>
                        }
                    </div>
                </div>
            } else if (Model.err) {
                <hr>
                <div class="user-card wow slideInUp rec-result">
                    <h3 class="rec-track">Please insert relevant skills/interests.</h3>
                </div>
            }
        </div><!-- end container -->
    </div><!-- end wrapper -->
</body>